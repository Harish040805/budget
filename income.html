<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Green AI - AI Bot | Income Management</title>
    <link rel="stylesheet" href="incomecss.css" />
    <link
      rel="shortcut icon"
      href="https://harish040805.github.io/budget/budgetsitelogo.png"
      type="image/x-icon"
    />
  </head>
  <body>
    <div id="splash">
      <div>Green AI - AI Bot</div>
      <img src="https://harish040805.github.io/budget/budgetsitelogo.png" alt="splashscreenharish">
      <div>Budget Management</div>
    </div>
    <div id="login-details">
      <strong id="displayName">Guest</strong><br />
      <small id="displayEmail">Not Provided</small>
    </div>

    <div id="main-content">
      <div style="background-color: #fff;">
        <h2 style="text-align: center; font-size: 30px; color: lightgreen;">
          Green AI - AI Bot <br />
          Income Management
        </h2>
      </div>
      <label for="salary" style="color:#7ade7a; font-size: large;">Enter your salary: &nbsp; &nbsp;</label>
      <input
        style="width:85%"
        type="number"
        id="salary"
        name="salary"
        min="1"
        step="1"
        placeholder="Enter positive salary"
        required
        oninput="this.value = this.value.replace(/[^0-9]/g,''); saveData();"
      />

      <div class="container-wrapper">
        <div class="row row1">
          <div class="container">
            RENT<input
              type="number"
              placeholder="Enter value"
              oninput="saveData()"
            />
          </div>
          <div class="container">
            UTILITIES<input
              type="number"
              placeholder="Enter value"
              oninput="saveData()"
            />
          </div>
          <div class="container">
            GROCERIES<input
              type="number"
              placeholder="Enter value"
              oninput="saveData()"
            />
          </div>
          <div class="container">
            TRANSPORTATION<input
              type="number"
              placeholder="Enter value"
              oninput="saveData()"
            />
          </div>
        </div>

        <div class="row row2">
          <div class="container">
            INSURANCE<input
              type="number"
              placeholder="Enter value"
              oninput="saveData()"
            />
          </div>
          <div class="container">
            ENTERTAINMENT<input
              type="number"
              placeholder="Enter value"
              oninput="saveData()"
            />
          </div>
          <div class="container">
            HEALTH<input
              type="number"
              placeholder="Enter value"
              oninput="saveData()"
            />
          </div>
        </div>

        <div class="row row3">
          <div class="container">
            EDUCATION<input
              type="number"
              placeholder="Enter value"
              oninput="saveData()"
            />
          </div>
          <div class="container">
            SAVINGS<input
              type="number"
              placeholder="Enter value"
              oninput="saveData()"
            />
          </div>
          <div class="container">
            OTHER<input
              type="number"
              placeholder="Enter value"
              oninput="saveData()"
            />
          </div>
        </div>
      </div>

      <button class="floating-btn" onclick="clearDatabase()">üóë</button>
    </div>

    <button
      id="draggableainameFloatButton"
      style="
        position: fixed;
        bottom: 80px;
        right: 20px;
        background: linear-gradient(
          135deg,
          rgba(196, 196, 196, 0.6) 0%,
          rgba(255, 255, 255, 0.3) 100%
        );
        color: #fff;
        border: none;
        border-radius: 50%;
        width: 60px;
        height: 60px;
        font-size: 22px;
        cursor: pointer;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
        z-index: 1000;
      "
    >
      ü§ñ
    </button>
    <button
      id="incomeButton"
      onclick="window.location.href='https://harish040805.github.io/budget/budget.html'"
    >
      üí∞
    </button>
<iframe
  id="draggableainameIframe"
  style="
    position: fixed;
    top: 0;
    left: 0;
    width: 104vw;
    height: 100vh;
    border: none;
    background: #fff;
    box-shadow: -4px 0 12px rgba(0, 0, 0, 0.2);
    display: none;
    z-index: 999;
  "
  src="greenaiaibot.html"
></iframe>

<button
  id="closeAIButton"
  style="
    position: fixed;
    top: 10px;
    left: 10px;
    background: #e74c3c;
    color: #fff;
    border: none;
    border-radius: 50%;
    width: 35px;
    height: 35px;
    font-size: 18px;
    cursor: pointer;
    display: none;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
    z-index: 3000;
  "
>
  ‚úñ
</button>

<script>
  const floatBtn = document.getElementById("draggableainameFloatButton");
  const iframe = document.getElementById("draggableainameIframe");
  const closeBtn = document.getElementById("closeAIButton");

  floatBtn.addEventListener("click", () => {
    iframe.style.display = "block";
    closeBtn.style.display = "block";
  });

  closeBtn.addEventListener("click", () => {
    iframe.style.display = "none";
    closeBtn.style.display = "none";
  });
</script>

    <script>
      window.addEventListener("load", () => {
        setTimeout(() => {
          document.getElementById("splash").classList.add("hidden");
          setTimeout(() => {
            document.getElementById("splash").style.display = "none";
            document.getElementById("main-content").style.display = "block";
            loadData();
          }, 1000);
        }, 2000);
      });

      function saveData() {
        const salary = Number(document.getElementById("salary").value) || 0;
        localStorage.setItem("salary", salary);

        const inputs = document.querySelectorAll(".container input");
        let total = 0;

        inputs.forEach((input, index) => {
          let val = Number(input.value) || 0;
          total += val;
          localStorage.setItem("input" + index, val);
        });

        if (total > salary) {
          let lastInput = inputs[inputs.length - 1];
          lastInput.value = Math.max(0, lastInput.value - (total - salary));
          localStorage.setItem("input" + (inputs.length - 1), lastInput.value);
        }
      }

      function loadData() {
        document.getElementById("salary").value =
          localStorage.getItem("salary") || "";
        const inputs = document.querySelectorAll(".container input");
        inputs.forEach((input, index) => {
          input.value = localStorage.getItem("input" + index) || "";
        });
      }

      const containerInputs = document.querySelectorAll(".container input");
      containerInputs.forEach((input) => {
        input.addEventListener("input", () => {
          const salary = Number(document.getElementById("salary").value) || 0;
          const inputs = document.querySelectorAll(".container input");
          let total = 0;
          inputs.forEach((i) => {
            total += Number(i.value) || 0;
          });
          if (total > salary) {
            alert("Total exceeds your salary!");
            input.value = Math.max(0, input.value - (total - salary));
          }
          saveData();
        });
      });

      function clearDatabase() {
        const confirmClear = confirm(
          "Do you want to clear the entire database?"
        );
        if (confirmClear) {
          const otp = Math.floor(1000 + Math.random() * 9000);
          const enteredOtp = prompt("Enter this OTP to confirm: " + otp);
          if (enteredOtp === otp.toString()) {
            localStorage.clear();
            alert("Database cleared successfully!");
            location.reload();
          } else {
            alert("Incorrect OTP. Database not cleared.");
          }
        }
      }
    </script>
    <script>
      const storedName = localStorage.getItem("userName") || "Guest";
      const storedEmail = localStorage.getItem("userEmail") || "Not Provided";

      document.getElementById("displayName").textContent = storedName;
      document.getElementById("displayEmail").textContent = storedEmail;

      const loginDetails = document.getElementById("login-details");

      loginDetails.style.position = "fixed";
      loginDetails.style.top = "10px";
      loginDetails.style.right = "10px";
      loginDetails.style.textAlign = "left";
      loginDetails.style.fontFamily = "Arial, sans-serif";
      loginDetails.style.color = "#2c3e50";

      loginDetails.style.background = "rgba(255, 255, 255, 0.85)";
      loginDetails.style.padding = "10px 15px";
      loginDetails.style.borderRadius = "8px";
      loginDetails.style.boxShadow = "0 4px 12px rgba(0, 0, 0, 0.2)";
      loginDetails.style.zIndex = "2000";
    </script>

<button id="dateTimeToggle" style="position:fixed; top:130px; left:10px; width:50px; height:50px; border-radius:50%; border:none; background:linear-gradient(135deg, #8cdc8c4e, lightgreen); color:#fff; font-size:24px; cursor:pointer; z-index:999; box-shadow:0 4px 10px rgba(0,0,0,0.3);">‚è∞</button>
<div id="dateTimeContainer" style="display:none; position:fixed; top:50px; left:90px; background:linear-gradient(135deg, #bcebbc, lightgreen); padding:12px; border-radius:12px; box-shadow:0 4px 10px rgba(0,0,0,0.2); z-index:9998; color:#656565; font-family:Arial, sans-serif;">  <div style="background:rgba(255,255,255,0.15); padding:10px; border-radius:8px; text-align:center;">
    <div id="time" style="margin:3px 0; font-size:18px; font-weight:bold; letter-spacing:1px;"></div>
    <div id="day" style="margin:3px 0; font-size:14px; font-weight:bold;"></div>
    <div id="date" style="margin:3px 0; font-size:14px; font-weight:bold;"></div>
  </div>
</div>
<script>
  document.getElementById("dateTimeToggle").addEventListener("click", function() {
    const container = document.getElementById("dateTimeContainer");
    container.style.display = container.style.display === "none" ? "block" : "none";
  });

  (function updateDateTime(){
    const now = new Date();
    const hours = String(now.getHours()).padStart(2,'0');
    const minutes = String(now.getMinutes()).padStart(2,'0');
    const seconds = String(now.getSeconds()).padStart(2,'0');
    document.getElementById("time").textContent = `${hours}:${minutes}:${seconds}`;

    const days = ["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];
    document.getElementById("day").textContent = days[now.getDay()];

    const date = now.getDate();
    const month = now.toLocaleString("default",{month:"long"});
    const year = now.getFullYear();
    document.getElementById("date").textContent = `${date} ${month}, ${year}`;

    setTimeout(updateDateTime,1000);
  })();
</script>
<button id="calculatorToggle" style="position:fixed; top:70px; left:10px; width:50px; height:50px; border-radius:50%; border:none; background:linear-gradient(135deg, #8cdc8c4e, lightgreen); color:#fff; font-size:24px; cursor:pointer; z-index:999; box-shadow:0 4px 10px rgba(0,0,0,0.3);">üî¢</button>
<style>
.calcobudget{
  padding:15px 0; 
  font-size:18px; 
  border:none; 
  border-radius:6px; 
  background:green; 
  color:white; 
  cursor:pointer;
  width:100%;
}
.clear{
  grid-column: span 4; 
  padding:12px 0; 
  font-size:18px; 
  border:none; 
  border-radius:6px; 
  background:red; 
  color:white; 
  cursor:pointer;
}
</style>

<div id="calculatorContainer" 
     style="display:none; position:fixed; top:50%; left:50%; transform:translate(-50%,-50%); width:40vw; max-width:300px; height:70vh; max-height:350px; background:linear-gradient(135deg, #bcebbc, lightgreen); padding:15px; border-radius:12px; box-shadow:0 4px 20px rgba(0,0,0,0.3); z-index:998; color:#000; font-family:Arial, sans-serif; flex-direction:column; align-items:center; justify-content:flex-start;">
  <input type="text" id="calcDisplay" style="width:95%; height:70px; font-size:24px; text-align:right; margin-bottom:15px; border:none; border-radius:6px; padding:6px; background:#e0f7e0;" readonly />
  <div style="display:grid; grid-template-columns:repeat(4, 1fr); grid-gap:4px; width:95%; justify-items:center; align-items:center;">
    <button class="calcobudget" onclick="appendCalc('7')">7</button>
    <button class="calcobudget" onclick="appendCalc('8')">8</button>
    <button class="calcobudget" onclick="appendCalc('9')">9</button>
    <button class="calcobudget" onclick="appendCalc('/')">/</button>

    <button class="calcobudget" onclick="appendCalc('4')">4</button>
    <button class="calcobudget" onclick="appendCalc('5')">5</button>
    <button class="calcobudget" onclick="appendCalc('6')">6</button>
    <button class="calcobudget" onclick="appendCalc('*')">*</button>

    <button class="calcobudget" onclick="appendCalc('1')">1</button>
    <button class="calcobudget" onclick="appendCalc('2')">2</button>
    <button class="calcobudget" onclick="appendCalc('3')">3</button>
    <button class="calcobudget" onclick="appendCalc('-')">-</button>

    <button class="calcobudget" onclick="appendCalc('0')">0</button>
    <button class="calcobudget" onclick="appendCalc('.')">.</button>
    <button class="calcobudget" onclick="calculate()">=</button>
    <button class="calcobudget" onclick="appendCalc('+')">+</button>

    <button class="clear" onclick="clearCalc()">CLEAR</button>
  </div>
</div>

<script>
document.getElementById("calculatorToggle").addEventListener("click", function(){
  const container = document.getElementById("calculatorContainer");
  if (container.style.display === "none" || container.style.display === "") {
    container.style.display = "flex";
  } else {
    container.style.display = "none";
  }
});

function appendCalc(value) {
  document.getElementById("calcDisplay").value += value;
}

function clearCalc() {
  document.getElementById("calcDisplay").value = '';
}

function calculate() {
  try {
    const result = eval(document.getElementById("calcDisplay").value);
    document.getElementById("calcDisplay").value = result;
  } catch {
    document.getElementById("calcDisplay").value = "Error";
  }
}
</script>
</body>
</html>
